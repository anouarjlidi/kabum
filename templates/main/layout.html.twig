{#
Copyright 2019 Douglas Silva (0x9fd287d56ec107ac)

This file is part of KaBuM!.

KaBuM! is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with KaBuM!.  If not, see <https://www.gnu.org/licenses/>.
#}

{% extends 'base.html.twig' %}

{% block stylesheets %}
  {{ parent() }}
  {{ encore_entry_link_tags('main') }}
{% endblock %}

{% block body %}
  <div class="d-flex flex-column flex-md-row">
    <div id="sidebar">
      <div class="d-flex justify-content-md-center justify-content-between pb-2">
        <a href="{{ path('main_page') }}" aria-label="Ir à página inicial">
          <img src="{{ asset('images/kabum.png') }}" id="header-brand" alt="Logotipo">
        </a>
        <button class="navbar-toggler d-md-none" type="button" data-toggle="collapse" data-target="#sidebarContent" aria-expanded="false" aria-controls="sidebarContent" aria-label="Abrir ou fechar o menu principal">
          <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
      </div>
      <div id="sidebarContent" class="collapse">
        <div class="py-2">
          <div class="d-flex justify-content-center">
            <a class="nav-link text-kabum-orange" role="button" href="#" aria-label="Carrinho de compras">
              <i class="shopping-cart-icon" aria-hidden="true"></i>
            </a>
            <a class="nav-link text-kabum-orange" role="button" href="#" aria-label="Lista de desejos">
              <i class="wishlist-icon" aria-hidden="true"></i>
            </a>
            {% if app.user %}
              <div class="dropdown">
                <a class="nav-link dropdown-toggle text-kabum-orange" href="#" role="button" id="userMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Menu de usuário">
                  <i class="user-icon" aria-hidden="true"></i>
                </a>

                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userMenu">
                  <a class="dropdown-item" href="#">Dashboard</a>
                  <a class="dropdown-item" href="#">Configurações</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="#">Sair</a>
                </div>
              </div>
            {% else %}
              <a class="nav-link text-kabum-orange" href="{{ path('app_login') }}" aria-label="Entrar com uma conta do KaBuM!">
                <i class="user-icon" aria-hidden="true"></i>
              </a>
            {% endif %}
          </div>
        </div>
        <div class="py-2">
          <form>
            <input type="text" class="form-control" placeholder="Pesquisar" aria-label="Pesquisar"/>
          </form>
        </div>
        <nav class="nav flex-column flex-nowrap py-2">
          {{ render(controller('App\\Controller\\MainController::categoryList')) }}
        </nav>
      </div>
    </div>
    <div class="d-flex flex-column w-100">
      {% block main %}{% endblock %}
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  {{ encore_entry_script_tags('main') }}
{% endblock %}
